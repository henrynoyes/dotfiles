{{- $palette := includeTemplate "palette.tmpl" . | fromJson -}}
format = """
$username\
$hostname\
$directory\
$git_branch\
$git_status\
$python\
${custom.pixi_project}\
$character"""

add_newline=false

[directory]
style = "{{ $palette.primary }}"

[character]
success_symbol = "[‚ùØ]({{ $palette.secondary }})"
error_symbol = "[‚ùØ]({{ $palette.secondary }})"

[git_branch]
format = "[$branch]($style)"
style = "bright-black"

[git_status]
format = "[[(*$conflicted$untracked$modified$staged$renamed$deleted)](218) ($ahead_behind$stashed)]($style)"
style = "cyan"
conflicted = "‚Äã"
untracked = "‚Äã"
modified = "‚Äã"
staged = "‚Äã"
renamed = "‚Äã"
deleted = "‚Äã"
stashed = "‚â°"

[python]
format = '([$symbol\($virtualenv\)]($style) )'
style = "green bold"

[pixi]
disabled = true

[custom.pixi_project]
command = '''
if [ "$PIXI_ENVIRONMENT_NAME" != "default" ]; then
    echo "$PIXI_PROJECT_NAME:$PIXI_ENVIRONMENT_NAME"
else
    echo "$PIXI_PROJECT_NAME"
fi
'''
when = 'test -n "$PIXI_PROJECT_NAME"'
format = '[$symbol (\($output\) )]($style)'
symbol = 'üßö'
style = 'yellow bold'
